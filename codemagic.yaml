# Automatically generated on 2020-05-29 UTC from https://codemagic.io/app/5e41ceef35303b46c455f044/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default:
    name: Default
    max_build_duration: 60
    environment:
      flutter: 1.20.4
      xcode: latest
      cocoapods: default
      vars:
        ANDROID_FIREBASE_JSON: Encrypted(Z0FBQUFBQmUyN1JJZTRsNDhhTDZzak9fVG5saU82a3RHcXg0MHhETHpnVEZsSTg3Q2NuZDB4NVB3ajJkeFVTVmtzcTdqdDAwRXRpWk1lUGlxbzJYd2M1Qi1jZFV3N242LS1CODRWNzdrOXpBU3BnV3hkcU1wSDRIZ245OUZwREYwSUtOTTFDc3JIQzk3X19zTTM0a3BQdk5TV3RWOXZGdlFUVHhPanFsUGltaVBUdTRXLU0ySzM5Q0RQc3BvUXM5Vl9JU0RqUGIxZTM5eEQzVGdDRThYanNraVlQZ3dnaHZLcDNKR2kyZEIxZGlfekNXTWdqOXIwZFh3RE9xUUdYTmVveHZVX0pUWEtBcTU4elVzbmFrSjF5ZVRyUUF4X0p1ZFN1NDJhNk9raEhlRDJoSV9LSG1GM09jREp6Tk9EVnNoOFk1RkJmWTBRX2pWdTl6TG9lQ2MyY1kxMnZCeVVRc0pNRHJ5RGI1c20zUml1YURyRGYyWmRHWjJhdzQwNUZMdU4xTHdqeWFtT0x3VTdaenNOUHB6d3B4U19GTTcxdUwxc2hjcVZ1NWJlQ0NNZnZsU29ucUhETF9OQVhOdm1tSXZqOG9KbkwxSURFS1JxeW85MHc4cmQzSzZZVkZ5X051dERPVUlEQ1JlRldvWjE4VmZtY1VYOHRMNDRxYm5FMXJQNHZjdlNLOGdTTm51ZmNoekd2UExyaE5VdEVSbzgxVnZFendJd0lTNXMyZDgtU0pDeEFUd2lEdGtkZVpuUFA3SUdPYkhUbUZ4N0tFc3A3TW5aSU91aExWWjZhMzBRYnBNckZqMFJERkduT1dGTExoOG1CU19YbHFFcHZmVElWOFpiTnVCN09vd0VZbVFnTFE5VUtzRXJQQUMtNGNERFNoMDJrWXlnUkJnckFLV1BIWDdkeHNyQW1VLUJ1eTBPM3A5aGQtbXBmbzd6aDNaR09sQ1hVcEd2akVnRF9OTVRqRmNoTWJmV2U2OUlhWTd1UC1feEJDMnltcDdTOTZVb0ttVEd2Q0V3LUFsYUZ4RkRSTnlvcDQ5TDc5eEttRVhVZUQ5TjZVMjhZcXQzdDg3YXYxZko3SUswc0RHb2RDcUh6LXFjdll0M1BIWDdGSi1JUERtdUNKTVYtbEZUOUQ0OTNYRk9YZzctazBhald4a294ZFo0NU9NRHBsNEdIeG5sQ2ZmWGFuZUNqNlJaWWhvSWYteW9IN3lkelBZaU1lbzdNZ2hWdFMtaDhKa2EybEJVZTh5Ymo2aHB2V1pOb1hTcS16emFDR3V3WlV2eG1EaFYyQ3BxNUZ1eHJfZ0pIY3JqYi1sODhmQnVXdWhKSllTTXpheEJ6WDlwY0E5R1l4REpmWGx5Rnk5dEF4S0FLODhmcVp1M2IwYUE1V18xRVdFNEFyVVNfNGJIRGF1aXhNcDBSWV9OZUhlQTN0YnoxemZhYXc0aU5JaFlheVc4UTh0eWF2NWNWQTY3emFPd2NVZU05WURmSVUtdF9mN2tWYS1EdGtzYUstRXhTMEYtSFJSMjhCcF9IZTBrdmZCbU0tRTlqUWNqTHlKUXVfbVRuc3ZYRjdGLVhpcUFiWXdDOXFmajdTeVJMN0tudXBfYzhyOVRRVkpUaEhSenZ1cGl3REg5UEVwaFR3VjNyeFl0QU1JYm5sbzV2bld0SU11cHBqaU5hR2RJWkVtWXFYSHhabnV5V2tORzRvOXIzUGtMa2JKNTZ4SHloQ2pwblBELVEzbXluV3l2QVNieE5xUkJaTUYyY2ZPU0s4NjNlVXc1STM1b01sVkFqUW1SQjBJNkpoekxZQ0dIUDZlZFU1Vy0yaVc4d2hGOTh3ckpONWh5b25LRUxaMy1GaU5hUXRyTU9xWU1SN0t6Um5xSnctczBCTDlNRXdVV0FjVEVXRFNlczdxU05yMWtkUVZNeHFIbllWN2RMX1pWdkprRWREdFpGRVBSSW5vdzY1Q0NncWc1ZlF2d2ZuYmlGLWh5eU5wNlVYenVSRHZYdkU1OUg5NEF6bno4RWd3WTF6bWNmTm9adVF5b0RQYlZNd2FyaEl5QnJYWTNWblJBUFZUMEc2SDBfT3JlZzQ0NGt2YUp0SmRFd2NnSC1tZHVfRDN1RENtVGlOMEUtQlNCY3lRRHI2S2lrR1BseE5jZjFSdm9tLVd2ZGtBUEUySW0xMG1QYWlERmZkcVR0cnN6ZHpVSld2TElQZW94RFJ5RGlXU3RxcXdVZmp0TUROVms0NUR0c0FidjRRVWFnSTNlM0YzME5Tb0JKREFTSHhkQjBTSnFMXy1nSGlfRnZpcHI5b093RGZnZ3FPZFBpREZXMXZZdDRFVjd5djFsUGxsVDJHWndsOE5qNEN2azFJMl9rMnh6c1lhM2I5eHZ1X2o5RHRwcXlUaGJEY0JNZzlfbUFWdXM4Q1M4azlpTUtLTWNLMklfZ3huOXoyNzBkRVhtSFAyVThMTHcxeXZUcXBiZHZucGlTeU9HY3dCeDNtU29mZkxwMlNWQ3p3cGlxNFdiZ2ZSeGZSRFFkc2w5MjQ4Si1BbXpYSklZQVJCZkdHWUNVd0Y1bURQMlZVZXFZRGxfa0M0SElVXzg0STNhU0pZV2JQNlM1LVpxV3U1V1dsVi1oNlQxWDZveG1sVE5JcWJGSFlQd0Z5Q1BnYjRCWU1ORk93ZWRtdVVXajRxZVVJSlppVDhOb19xNGZjdUFIYkxSc0dON205TUtGUV80SW14LUtJdV9TYk9hZm0tdXctWkhic2pWZC1xTWp2bGZoNkpJazdxZUlGRGhQWHZjcWYybXZmRU4tOTVVY25XcGN3WHI4LXZOQkw5dklxajdTNkRwclpBR0tjeVVIR3FFTUE5QnprSzB4U1hHU2Q3MURXbkNJMnI5dTNYdGVDNmZxOXJ5cTJ2MGpCZGtoajdDcHdQVk1hVHpiUDdtZjFzdzhERDBZOGZ2ZUxnQTZyTHptMGxVWmIwV0pTQU90d2MxMW9xRUNWRlc5STZiN1hOaUNvLU50WWxQek9VY2pweWdncFl0aHcyY2FQUkczMTN3OTJQWWx6Z1hkcHBUQnktV0Zjc0N6d0Jpdm5xZzVSU21zeWtsWmNfZzlzeERvNUl4c3lOQ3dLSXgyZGc1Vkdnc1hBcVVKa3FsV1Z1SkxEdVhJN1lhXzNDbmhNS2NCWFctdDhWdXRwMGZlTnNFMmdRRVRQTnZEdm1kRDB6d1JQVkczc2xBcE9EZEZxRlNQTkxDTW5ibDQ4YzEtT2M4MWg2ZHRzRXBlVnZtdExweHRYbVgyZzV5Q0RscGswNG5tNU05NFRMclA1emR0bzZZSmdUV1FpWDBtYUJKU0hTcWU1VzZCZmhVZ0otTHJDd0Z5TUVXUlZ2OHllZ2FiN3Q3RU5nRjhJZ3Bua1BCUERlZ3QtWlV2V0c5bDh0SEViN3pkUlpfbjFyT2ZsU3BMWXpkZVFhM0Q0VVA0bkZPc1RmTmNmMWY2UEpxUTRwRUh1VzZLRGdXTVJ4MTFaTmc4VllFRGJZRW5iMjlRSzY1Ukxvc1IxSzFnampuc0k0b0FsX055OUdKYjZwQ2lLT2ZpaU8yVncyRnJWV2JLY3pPOUVaQ0hMb1c4NkQxUnY4NW5fbnNYSmFRTWhRSXc5WUJ6VW9qbkJoVHpTa3luNUpsbE1TTDQ0TXRKWDVqVXEyMzgzX2FjU0ZrdGxkQlhnZTlXLWhLSnRZZElCRzFpOVloTHBHM3lzaWROTkJOSS1yMXctNU1ZalBkZzg1R2dfdHBDR0FMNlpvR19lM21sR0JJSXhYTFJOdldSRHc2UGp2MFNpMk9WTmRjazFLV1g5VUVmOU5pVWp0MU9VbFIyOXZDT0wtZG81SzhUYUhXZFlieVJzQmRtRXFnSjRwWXJ0TVJKZHA5M3pMVzF1dTY3SHB1WTdzSElTU1pJbVZ1OUxuemJaTS1faUMtTGlpSEtUcDA5LWxuaW42V0tub2gzdGluRVZPOHZpNHo2UlhFZy1YWUFWeTB2dDVaVVEzRnotb3dXZ1JReVN4bHczQ0R1ZW9kS0dnZ3FpR05iMnY3ZHMwS3plWWhFMVlaT1g5dF9sbGI4PQ==)
        IOS_FIREBASE_JSON: Encrypted(Z0FBQUFBQmUyN1JsYU1kSDRGa0hzSHREb25IOVZSbHhCNW9FQ3Awbnl6bUczalFheG9rMDRvUUZ2Y3lwRWJiWWJhaTctc2JXNHV0ZTFGM241SGdfU3pMQ3poMmZwdmlKM2FQOTlONWo3NzdXeTRTcUx3U3kwYnZXSm01SVhxRnZXVVB3amt3a0tKUGRvUk1WODUyZUdpaWZ3cFdEQkZzUW1IUGhoOWRFTWpoS3JDalQ2bDU4eHhzT0VGY292T2tTazNjWldzMzYwRVVCd2UtM21jYmdsSmVRRkg2T1JvUG1mRVBYRUIwQzlDRVhCWVh3OGU2dkZuRWcyQjhMajItMUtic3BJNkREcmlBQ2c5V1pMVmRfcEZTTDY2NldFM0N6QnROOE1fNFBFR24yQTVwY25vbGx5dzdURTJWNGxqSFJJd09UNHY0WmotaXp3TUFqX2k3R25YWmJfRWlzU2pCeThpSmRRYWNoTnlhc1pya0sxQXY3TG5KUWoxQzM1WXlEMEdoWGpiOV96V25WTzBWY3B0TTBJdUlEaC1wQm1fblRIa0dSOGpPRURyTEx2RTZOWGwtMzFaTHZQQWt6T1Zlc0tWaXdMQTBTN3lvdHBIX2tCbDFjVjU2Tzk3RWl3YXEyUkF1RE1Ob3A1SHllSEtCM3VfeU03aVVmeFVST3hfWDR1WXZ1VXZTbmdKXzh1QklKRWZ3RlBxQWVFR0dHeUU2Y0NsY0RFem9LMlB6b3VPZUhkTnRlempZOXM3WDdNRVJQNENoRjZkeTgtWldBcF9VNksyNjlEWC1aTkp6S2F3c3k2eDBra3JfVHlGTi1XdmZ2N1JJbkY5ZjYtaDBRZ0VUWGw2ZDhHbjJwVlV1cnFGbW8zX0NwX281OVR3QmRMbEJCMEkzV3loSllSZ1VoYTlMRGtURjI5MFFkTW1ackFMQ2dZTkJmLWVSYkt0QXh0UkxiMzFxSDRNbmJDM29Xa25lRXRJYTE2ZVNxYnFreHd0T1F0OUhkUTJlZ2dkWmJSd1BaOG50ekhOaFVuY1BKclp3SkotSzdfcmJNX0RTd2JEZUg1S1I2ZEVocjlsNGdrbGItaFFqOWEzTTltUlFUU3MwV21HbUtHb3N5d2lxSXRGdmNBUkVWSDlkTHpiQ0VENm5oNEJzSUVzc2xyc0h5aDE3Uk9jRGVPYnV3dnVtcDZ1amhfSk1CVXA4bDR0UG9xeTRmTHRray1KbE1NOGlscVlnZUlLSjdJMXFGWTVMVjRQNjFGMFRvRFlGSHdRc011TXA5WmVGbTdkR3hBbFJaUHg4X2N4WXVNcDJuVloyclpIZzlxdHVEemtHTVBWRllaSEdxNVMzSkVWc2NJaXFQS1BXT19FRGxlMlFvSk5feXdDTnIxMTA2dVFDbHo2eDRmN0FvQ1p2LV82WWwzN0ladDZUakpaMWZQOE94WjdzQlVmU3hsVTNhdGZQemRnWkpxeF9YVFh4cGg4SUthakdkOHRxUzVaaVNhSnA1dGZ4dFR1ZnNIaHQxWHBOclFid21pUlpJQ2g5RUVmS1BiSnlJTU9yZjFWcF85WWxpQVN0MXhxdmN2bWxFSjhvNlkzb21mbFpiVnNMV29Ic1QwWmhEWWFQS3NnblRVbHdzQ0pZVmYzZXBOeDdyRTRDNjRGLWhab0ViNTl4VEpjR01ldzdxbDhaSC03WFY1NUQ1QWQyQVptN3ZfZ0poQ0RTRlUtZ1N0YUV5TDU3VEVMdHJ6cVgzRmlfdHhZWWY3eFo2YjQ0dm5qRjQ1cGt5S2dDdE5NdDFFTEpYUksyOG5CclBUbUFkWktxVFZHeFNBTjhaVjFJSW9fWHVZeS1rRkx0R0dMTHZIR2x0YU9PdDdpMF9aRkFZb0JsYjFGb2l1MHBsV2stVjhhejlpS0hOOE43M19MRDMtNzJrZUFrY3llTjA5RFE3MUdRc0MxMDVwYlIzZ3I0WmxBeTN2WlJWM2wtRjBzdlRKaFlhT25NaFR4TG9CZDhJc2JzZ2RXWjltZ2FxazdTMjd4Y2NIZm1uSG9KTUZPY0s2RUZCSjR0bGZWbHExdzR0TUhaQkFWamhVTDJ2dldwZUg1TUQ1Y3hSU3NwWGFhNGNOSEJHMEdZUlY1bEQwSEIwdGhTOGhsWjI2d1Z4MERjMzg0ZElwZVJQNlJjOEpWTU90ZDIxV0xrWkpDRHdVejVhUVlTZFIwQVhESEdzMFZGWVR2THZjMmwxT040YndZZG1YOF85TlBMMHdRYlVXN2ExY2tQclkzekwyek1OWE5sMFZKVnpCNUQtU08xdll4OHgwbUhEbk1NczFHV0xlXzlTaUdUQ3JDajJHQ1RWQkRXc3Q1WUFKajRpYTVQek4wUjE1b2dRTDlqazZ3d0pCYVJWbUpZMU9IQnNpYUJ1SW93ZFRFakREY01BUGJKTGFxTmRFSVRTOWRpRmJDNV9za0hJNnVyYWtEMl9DMGNpQUswWlUyTk95cFNKOE9PbmVPWHp1RWlvYnM0ZjFZd3ZsNGFkZXdYRy1uSHBUT0k0Nl9ub1d3dDQwNWU5MUtEaVF5YzNNM1lwWTJCVjhlUk91d25NWEpNc0ZJZ2VPU3dGSjZxRWN6TkpJaThsWHozQVlKNkp3NDhDcDNCVUFSVE9tMjlKdTd4Y1JzRk8tTDJhcS1IRGtnMWJVM2ZJcGhDWktRZmh2dEZkTkh2R2ZPWG5TZ3ZMSmpRZC02OUowTlVJV19UZVFEdklfcFNhcGtpWERwd2ZlWUxmWU9GUGY2U3hrbk9RSm90RzBwNVFMdUU4UVFCN0ZMUGVLMnAzcTI2V191ZWpqSDVVclBfT1hrMTN4bGVvaEF6ZXZqS3MzWHVWamVabFBYVVcxZk4xVG1zMWNCeHpjVUhlQldTVDZ1SjRoZU9ERUd5VENDN3hiSGJaMG1XLUZyVDRFejNjVFBsYy1ROXpPRFg5MWRJNW42LXdqSFZETTZvVHdWWXBNLWxod0hrT1JubDVZaGJSSlhBaXlmRWlVeVhEVGE5LWhzUlAxWGwyU1ZrU0J4THpHMEw0V0ZTc0dYQmhPNi0tbDNWRmVPQlRCSUpQM0FBVmFsalljaDRrTXRKOHBncG1CVy1Pb3lNSjFmS1NlbnNlTUE4MjVOUHlsLXd2Z2FaSzRwaV95cHZKRW9wSHFWWkdVT25DWWM5Qm80MWFBNms5REhXUF9aRFZ6cDRza3lyd21RemU3TUVyZlFndWJNWFBxU0hfWFJGUlFScy1xdzZSdXBCZnJYNWs=)
        ENV: Encrypted(Z0FBQUFBQmUyN1NBQnc0bVh1bGlzdlZ0RHllRzRVQVVwNy01dUc2YldNQS1oeFhBendhM212ME94TVNqRU43Y1d1UDBrd1o3dXJZQlgwdlR3b1hrMjZ2SGt1aGVjRGJrcXBzM1J4ZHNiTTVZS3VIY2RkQy1IQVdhZjhZQy1aX2xjYXBsZEhvSHRsaUlFblFBeWVENXRoMThPcWpqdlA4MTFubGpaaDBWOTNqclJHbFR0TF94aGhjPQ==)
    cache:
      cache_paths:
        - $FCI_BUILD_DIR/build
    triggering:
      events:
        - push
        - pull_request
      branch_patterns:
        - pattern: master
          include: true
          source: false
        - pattern: master
          include: true
          source: true
    scripts:
      - |
        # set up debug keystore
        rm -f ~/.android/debug.keystore
        keytool -genkeypair \
          -alias androiddebugkey \
          -keypass android \
          -keystore ~/.android/debug.keystore \
          -storepass android \
          -dname 'CN=Android Debug,O=Android,C=US' \
          -keyalg 'RSA' \
          -keysize 2048 \
          -validity 10000
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - |
        #!/bin/sh
          echo Running post-clone script...
          echo Decoding Android Firebase json
          echo "$ANDROID_FIREBASE_JSON" | base64 --decode > "$FCI_BUILD_DIR"/android/app/google-services.json
          echo Decoding iOS Firebase json
          echo "$IOS_FIREBASE_JSON" | base64 --decode > "$FCI_BUILD_DIR"/ios/Runner/GoogleService-Info.plist
          echo Decoding .env
          echo "$ENV" | base64 --decode > "$FCI_BUILD_DIR"/.env
      - cd . && flutter packages pub get
      - cd . && flutter analyze
      - cd . && flutter build apk --debug
      - find . -name "Podfile" -execdir pod install \;
      - cd . && flutter build ios --debug --no-codesign
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      slack:
        channel: "#builds"
        notify_on_build_start: true
